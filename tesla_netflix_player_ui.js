
                        const cssChunkFileNames = ["data:text/css;base64,Ll9jb250YWluZXJfYmk3YTFfMXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21pbi13aWR0aDo0ODBweDttaW4taGVpZ2h0OjM2MHB4O2JhY2tncm91bmQ6IzAwMDAwMH0uX3ZpZGVvX2JpN2ExXzE5e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpibG9ja30uX2NvbnRyb2xsZXJfYmk3YTFfMzF7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bGVmdDowO3JpZ2h0OjA7cGFkZGluZzouNXJlbTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byB0b3AscmdiYSgwLDAsMCwuNSksdHJhbnNwYXJlbnQpO29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2V9Ll9jb250cm9sbGVySW5uZXJfYmk3YTFfNjN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtjb2xvcjojZmZmfS5fY29udHJvbGxlckJvdHRvbV9iaTdhMV83NXttYXJnaW4tdG9wOi41cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6I2ZmZn0uX2NvbnRyb2xsZXJCb3R0b21MZWZ0X2JpN2ExXzg5e21hcmdpbi1sZWZ0OmF1dG87ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0uX2J1dHRvbl9iaTdhMV8xMDF7YmFja2dyb3VuZDpub25lO2JvcmRlcjpub25lO3BhZGRpbmc6LjVyZW07bGluZS1oZWlnaHQ6MDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojZmZmO3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZTtwb3NpdGlvbjpyZWxhdGl2ZX0uX2J1dHRvbl9iaTdhMV8xMDE6aG92ZXJ7b3BhY2l0eTouOH0uX2J1dHRvbl9iaTdhMV8xMDEgc3Zne3dpZHRoOjEuNXJlbTtoZWlnaHQ6MS41cmVtfS5fcHJvZ3Jlc3NXcmFwcGVyX2JpN2ExXzE0MXtmbGV4OjF9Ll9wcm9ncmVzc0Jhcl9iaTdhMV8xNDl7aGVpZ2h0OjRweDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsLjMpO2JvcmRlci1yYWRpdXM6MnB4O2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOnJlbGF0aXZlfS5fcHJvZ3Jlc3NfYmk3YTFfMTQxe2hlaWdodDoxMDAlO2JhY2tncm91bmQ6d2hpdGU7Ym9yZGVyLXJhZGl1czoycHg7d2lkdGg6MCU7dHJhbnNpdGlvbjp3aWR0aCAuMXMgbGluZWFyfS5fbXV0ZUNvbnRyb2xfYmk3YTFfMTgxe2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOi41cmVtfS5fdm9sdW1lU2xpZGVyX2JpN2ExXzE5M3std2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7d2lkdGg6NXJlbTtjdXJzb3I6cG9pbnRlcjttYXJnaW46MDtvdXRsaW5lOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uX3ZvbHVtZVNsaWRlcl9iaTdhMV8xOTM6Oi13ZWJraXQtc2xpZGVyLXRodW1iey13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZTt3aWR0aDoxcmVtO2hlaWdodDoxcmVtO21hcmdpbi10b3A6LS4zNzVyZW07Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZDojZmZmZmZmO2N1cnNvcjpwb2ludGVyO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0uX3ZvbHVtZVNsaWRlcl9iaTdhMV8xOTM6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNre2hlaWdodDo0cHg7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC44KTtib3JkZXItcmFkaXVzOjJweH0uX3F1YWxpdHlNZW51X2JpN2ExXzI0OXtwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTAwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUpO21hcmdpbi1ib3R0b206LjVyZW07YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC45KTtib3JkZXItcmFkaXVzOi4yNXJlbTtwYWRkaW5nOi41cmVtO2Rpc3BsYXk6bm9uZX0uX3F1YWxpdHlNZW51X2JpN2ExXzI0OS5fdmlzaWJsZV9iaTdhMV8yNzN7ZGlzcGxheTpibG9ja30uX3F1YWxpdHlCdXR0b25fYmk3YTFfMjgxe2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmxlZnQ7cGFkZGluZzouNXJlbSAxcmVtO2NvbG9yOiNmZmY7YmFja2dyb3VuZDpub25lO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6LjI1cmVtO2N1cnNvcjpwb2ludGVyfS5fcXVhbGl0eUJ1dHRvbl9iaTdhMV8yODE6aG92ZXJ7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4xKX0uX3RpbWVEaXNwbGF5X2JpN2ExXzMxM3tmb250LXNpemU6Ljg3NXJlbTtmb250LXdlaWdodDo1MDA7Y29sb3I6I2ZmZmZmZmU2O3RleHQtc2hhZG93OjAgMXB4IDJweCByZ2JhKDAsMCwwLC4zKTttYXJnaW46MCAuNXJlbX0uX2xvYWRpbmdXcmFwX2JpN2ExXzMyOXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7dmlzaWJpbGl0eTpoaWRkZW59Ll9sb2FkaW5nSW5uZXJfYmk3YTFfMzQ1e2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uX2xvYWRpbmdEb3RfYmk3YTFfMzU3e2Rpc3BsYXk6ZmxleDtnYXA6OHB4Oy0tZG90LWNvbG9yOiAjN2MzYWVkfS5fZG90SXRlbV9iaTdhMV8zNzF7d2lkdGg6MXJlbTtoZWlnaHQ6MXJlbTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWRvdC1jb2xvcik7Ym9yZGVyLXJhZGl1czo1MCU7YW5pbWF0aW9uOl9ib3VuY2VfYmk3YTFfMSAuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGV9Ll9kb3RJdGVtX2JpN2ExXzM3MTpudGgtY2hpbGQoMil7YW5pbWF0aW9uLWRlbGF5Oi4xc30uX2RvdEl0ZW1fYmk3YTFfMzcxOm50aC1jaGlsZCgzKXthbmltYXRpb24tZGVsYXk6LjJzfUBrZXlmcmFtZXMgX2JvdW5jZV9iaTdhMV8xezAlLHRve3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfTUwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTBweCl9fS5fc2V0dGluZ1BhbmVsV3JhcF9iaTdhMV80MjF7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3RyYW5zaXRpb246YWxsIC4ycyBlYXNlLWluLW91dH0uX3NldHRpbmdQYW5lbElubmVyX2JpN2ExXzQ0NXt3aWR0aDoxOHJlbTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDAwMDBlNjtib3JkZXItcmFkaXVzOi41cmVtO2JveC1zaGFkb3c6MCAxMHB4IDE1cHggLTNweCAjMDAwMDAwMWF9Ll9zZXR0aW5nUGFuZWxIZWFkZXJfYmk3YTFfNDU5e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47cGFkZGluZzoxcmVtO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjEpfS5fc2V0dGluZ1BhbmVsVGl0bGVfYmk3YTFfNDc1e2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OjUwMH0uX3NldHRpbmdQYW5lbEljb25fYmk3YTFfNDg3e2xpbmUtaGVpZ2h0OjA7Y29sb3I6I2ZmZmM7dHJhbnNpdGlvbjpjb2xvciAuMnMgZWFzZTtjdXJzb3I6cG9pbnRlcn0uX3NldHRpbmdQYW5lbEljb25fYmk3YTFfNDg3OmhvdmVye2NvbG9yOiNmZmZ9Ll9zZXR0aW5nUGFuZWxDb250ZW50X2JpN2ExXzUwOXtwYWRkaW5nOjFyZW19Ll9zZXR0aW5nU2VjdGlvbl9iaTdhMV81MTd7bWFyZ2luLWJvdHRvbToxLjVyZW19Ll9zZXR0aW5nU2VjdGlvbl9iaTdhMV81MTc6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjB9Ll9zZXR0aW5nU2VjdGlvbkhlYWRlcl9iaTdhMV81MzN7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6LjVyZW07Y29sb3I6I2ZmZmZmZmU2O21hcmdpbi1ib3R0b206Ljc1cmVtfS5fc2V0dGluZ1NlY3Rpb25UaXRsZV9iaTdhMV81NDl7bGluZS1oZWlnaHQ6MS41O2ZvbnQtd2VpZ2h0OjUwMH0uX3NldHRpbmdTZWN0aW9uQ29udGVudF9iaTdhMV81NTl7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MXJlbX0uX3N3aXRjaENvbnRhaW5lcl9iaTdhMV81NzF7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjt3aWR0aDoxMDAlO2N1cnNvcjpwb2ludGVyfS5fbGFiZWxfYmk3YTFfNTg3e2ZvbnQtc2l6ZTouODc1cmVtO2NvbG9yOiNmZmZjO3RyYW5zaXRpb246Y29sb3IgLjJzIGVhc2V9Ll9zd2l0Y2hDb250YWluZXJfYmk3YTFfNTcxOmhvdmVyIC5fbGFiZWxfYmk3YTFfNTg3e2NvbG9yOiNmZmZ9Ll9zd2l0Y2hfYmk3YTFfNTcxe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjQ0cHg7aGVpZ2h0OjI0cHh9Ll9pbnB1dF9iaTdhMV82MjF7b3BhY2l0eTowO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGV9Ll9zbGlkZXJfYmk3YTFfNjM1e3Bvc2l0aW9uOmFic29sdXRlO2N1cnNvcjpwb2ludGVyO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO2JhY2tncm91bmQtY29sb3I6I2ZmZjM7dHJhbnNpdGlvbjouMnM7Ym9yZGVyLXJhZGl1czoyNHB4fS5fc2xpZGVyX2JpN2ExXzYzNTpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDoiIjtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O2xlZnQ6NHB4O2JvdHRvbTo0cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO3RyYW5zaXRpb246LjJzO2JvcmRlci1yYWRpdXM6NTAlfS5faW5wdXRfYmk3YTFfNjIxOmNoZWNrZWQrLl9zbGlkZXJfYmk3YTFfNjM1e2JhY2tncm91bmQtY29sb3I6IzNiODJmNn0uX2lucHV0X2JpN2ExXzYyMTpjaGVja2VkKy5fc2xpZGVyX2JpN2ExXzYzNTpiZWZvcmV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyMHB4KX0uX2lucHV0X2JpN2ExXzYyMTpmb2N1cy12aXNpYmxlKy5fc2xpZGVyX2JpN2ExXzYzNXtib3gtc2hhZG93OjAgMCAxcHggIzNiODJmNn0K"]
                        for (const filename of cssChunkFileNames) {
                            const chunkStyle = document.createElement('link');
                            chunkStyle.rel = 'stylesheet';
                            chunkStyle.href = filename;
                            document.head.appendChild(chunkStyle);
                        }
var b=Object.defineProperty;var w=(r,e,i)=>e in r?b(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var n=(r,e,i)=>(w(r,typeof e!="symbol"?e+"":e,i),i);import{d as C}from"./assets/avplayer-f3a76a49.js";const f="_container_bi7a1_1",S="_video_bi7a1_19",L="_controller_bi7a1_31",y="_controllerInner_bi7a1_63",P="_controllerBottom_bi7a1_75",k="_controllerBottomLeft_bi7a1_89",E="_button_bi7a1_101",$="_progressWrapper_bi7a1_141",I="_progressBar_bi7a1_149",M="_progress_bi7a1_141",R="_muteControl_bi7a1_181",T="_volumeSlider_bi7a1_193",U="_qualityMenu_bi7a1_249",V="_visible_bi7a1_273",B="_qualityButton_bi7a1_281",W="_timeDisplay_bi7a1_313",H="_loadingWrap_bi7a1_329",x="_loadingInner_bi7a1_345",D="_loadingDot_bi7a1_357",A="_dotItem_bi7a1_371",q="_bounce_bi7a1_1",O="_settingPanelWrap_bi7a1_421",K="_settingPanelInner_bi7a1_445",Y="_settingPanelHeader_bi7a1_459",j="_settingPanelTitle_bi7a1_475",F="_settingPanelIcon_bi7a1_487",z="_settingPanelContent_bi7a1_509",N="_settingSection_bi7a1_517",G="_settingSectionHeader_bi7a1_533",Q="_settingSectionTitle_bi7a1_549",X="_settingSectionContent_bi7a1_559",Z="_switchContainer_bi7a1_571",J="_label_bi7a1_587",ee="_input_bi7a1_621",te="_slider_bi7a1_635",t={container:f,video:S,controller:L,controllerInner:y,controllerBottom:P,controllerBottomLeft:k,button:E,progressWrapper:$,progressBar:I,progress:M,muteControl:R,volumeSlider:T,qualityMenu:U,visible:V,qualityButton:B,timeDisplay:W,loadingWrap:H,loadingInner:x,loadingDot:D,dotItem:A,bounce:q,settingPanelWrap:O,settingPanelInner:K,settingPanelHeader:Y,settingPanelTitle:j,settingPanelIcon:F,settingPanelContent:z,settingSection:N,settingSectionHeader:G,settingSectionTitle:Q,settingSectionContent:X,switchContainer:Z,label:J,switch:"_switch_bi7a1_571",input:ee,slider:te},m=`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor">\r
    <path d="M5 3l14 9-14 9V3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\r
</svg>\r
`,ne=`<svg class="pause-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,v=`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,ie=`<svg class="exit-fullscreen" viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,_=`<svg class="volume-high" viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M11 5L6 9H2v6h4l5 4V5z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,se=`<svg class="volume-low" viewBox="0 0 24 24" fill="none" stroke="currentColor">
  <path d="M11 5L6 9H2v6h4l5 4V5z M15.54 8.46a5 5 0 0 1 0 7.07" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,oe=`<svg class="volume-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor">
  <path d="M11 5L6 9H2v6h4l5 4V5z M23 9l-6 6 M17 9l6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,le=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings w-6 h-6 text-white"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
`,re=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
`,ae=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 8-6 4 6 4V8Z"></path><rect width="14" height="12" x="2" y="6" rx="2" ry="2"></rect></svg>
`,ce=`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`;class ue{constructor(e){n(this,"god");n(this,"url",null);n(this,"options");n(this,"container");n(this,"controller");n(this,"loadingControl");n(this,"settingPanelControl");n(this,"playControl");n(this,"timeDisplay");n(this,"progressControl");n(this,"progressSpeedControl");n(this,"muteControl");n(this,"volumeControl");n(this,"settingControl");n(this,"fullscreenControl");n(this,"duration",0);n(this,"_isLive",!1);n(this,"_currentTime",0);n(this,"isSeeking",!1);n(this,"_isPlaying",!1);n(this,"isEnded",!1);n(this,"_muted",!1);n(this,"_volume",3);n(this,"_isLoading",!1);n(this,"_settingPanelVisible",!1);n(this,"_controllerVisible",!1);this.setOptions(e),this.init()}get isLive(){return this._isLive}set isLive(e){var i;(i=this.god)==null||i.setIsLive(e)}get currentTime(){return this._currentTime}set currentTime(e){this._currentTime=e,this.progressSpeedControl.style.width=`${this.currentTime/this.duration*100}%`,this.timeDisplay.textContent=`${this.formatTime(this.currentTime)} / ${this.formatTime(this.duration)}`}get isPlaying(){return this._isPlaying}set isPlaying(e){this._isPlaying=e,this.updatePlayControlIcon(this.isPlaying)}get muted(){return this._muted}set muted(e){this._muted=e,this.god.setVolume(this.muted?0:this.volume),this.updateMuteControlIcon(this.volume,this.muted)}get volume(){return this._volume}set volume(e){this._volume=Math.max(0,Math.min(e,3)),this.god.setVolume(this.volume),this.muted=this.volume===0,this.updateMuteControlIcon(this.volume,this.muted)}get isLoading(){return this._isLoading}set isLoading(e){this.loadingControl.style.visibility=e?"visible":"hidden"}get settingPanelVisible(){return this._settingPanelVisible}set settingPanelVisible(e){this.settingPanelControl.style.visibility=e?"visible":"hidden",this.settingPanelControl.style.opacity=e?"1":"0"}get controllerVisible(){return this._controllerVisible}set controllerVisible(e){this._controllerVisible=e,this.controller.style.visibility=e?"visible":"hidden",this.controller.style.opacity=e?"1":"0"}setOptions(e){const i=e.enableHardware??this.getSetting("KIT_PLAYER_HARDWARE"),s=e.enableAudioWebcodec??this.getSetting("KIT_PLAYER_AUDIO_WEBCODEC"),l=e.enableVideoWebcodec??this.getSetting("KIT_PLAYER_VIDEO_WEBCODEC"),a=e.audioMSE??this.getSetting("KIT_PLAYER_AUDIO_MSE"),d=e.enableWebGPU??this.getSetting("KIT_PLAYER_WEBGPU");this.options={enableHardware:i,enableWebGPU:d,audioMSE:a,...e,getWasm:e.getWasm??((c,h)=>{switch(c){case"decoder":switch(h){case 27:return l?"":new URL(""+new URL("h264-atomic.wasm",import.meta.url).href,self.location).href;case 86018:return s?"":new URL(""+new URL("aac-atomic.wasm",import.meta.url).href,self.location).href;case 86017:return s?"":new URL(""+new URL("mp3-atomic.wasm",import.meta.url).href,self.location).href;case 173:return s?"":new URL(""+new URL("hevc-atomic.wasm",import.meta.url).href,self.location).href;case 12:return s?"":new URL(""+new URL("mpeg4-atomic.wasm",import.meta.url).href,self.location).href;case 226:return s?"":new URL(""+new URL("av1-atomic.wasm",import.meta.url).href,self.location).href;case 86051:return s?"":new URL(""+new URL("speex-atomic.wasm",import.meta.url).href,self.location).href;case 86076:return s?"":new URL(""+new URL("opus-atomic.wasm",import.meta.url).href,self.location).href;case 86028:return s?"":new URL(""+new URL("flac-atomic.wasm",import.meta.url).href,self.location).href;case 86021:return s?"":new URL(""+new URL("vorbis-atomic.wasm",import.meta.url).href,self.location).href;case 139:return s?"":new URL(""+new URL("vp8-atomic.wasm",import.meta.url).href,self.location).href;case 167:return s?"":new URL(""+new URL("vp9-atomic.wasm",import.meta.url).href,self.location).href;default:return""}case"resampler":return new URL(""+new URL("resample-atomic.wasm",import.meta.url).href,self.location).href;case"stretchpitcher":return new URL(""+new URL("stretchpitch-atomic.wasm",import.meta.url).href,self.location).href}})},this.container=e.container,this.container.className=t.container}getSetting(e,i=!0){const s=window.localStorage.getItem(e);return s===null?i:s==="true"}init(){this.createController(),this.createLoading(),this.createSettingPanel(),this.loadPlayer()}formatTime(e){const i=e/1e3,s=Math.floor(i/3600),l=Math.floor(i%3600/60),a=Math.floor(i%60);return s>0?`${s}:${l.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${l}:${a.toString().padStart(2,"0")}`}createController(){this.controller=document.createElement("div"),this.controller.className=t.controller;const e=`
            <div class="${t.controllerInner}">
                <div class="${t.progressWrapper}">
                    <div class="${t.progressBar} controller-progress-bar">
                        <div class="${t.progress} controller-progress-bar-speed"></div>
                    </div>
                </div>
                <div class="${t.controllerBottom}">
                    <button class="${t.button} controller-play">
                        ${m}
                    </button>
                    <div class="${t.muteControl}">
                        <button class="${t.button} controller-mute" aria-label="Volume">
                            ${_}
                        </button>
                        <input type="range" class="${t.volumeSlider} controller-volume-slider" step="0.2" min="0" max="3" value="3" aria-label="Volume"/>
                    </div>
                    <span class="${t.timeDisplay} controller-time">0:00 / 0:00</span>

                    <div class="${t.controllerBottomLeft} controller-bottom-left">
                        <!-- <button class="${t.button} controller-quality" style="display: none;">
                             ${ce}
                         </button> -->

                        <button class="${t.button} controller-setting">
                            ${le}
                        </button>
        
                        <button class="${t.button} controller-fullscreen">
                            ${v}
                        </button>
                    </div>
                </div>
            </div>
        `;this.controller.innerHTML=e,this.container.appendChild(this.controller),this.playControl=this.controller.querySelector(".controller-play"),this.timeDisplay=this.controller.querySelector(".controller-time"),this.progressControl=this.controller.querySelector(".controller-progress-bar"),this.progressSpeedControl=this.controller.querySelector(".controller-progress-bar-speed"),this.muteControl=this.controller.querySelector(".controller-mute"),this.volumeControl=this.controller.querySelector(".controller-volume-slider"),this.settingControl=this.controller.querySelector(".controller-setting"),this.fullscreenControl=this.controller.querySelector(".controller-fullscreen")}createLoading(){this.loadingControl=document.createElement("div"),this.loadingControl.className=t.loadingWrap;const e=`
             <div class="${t.loadingInner} loading-inner">
                <div class="${t.loadingDot} loading-dot">
                    <div class="${t.dotItem} loading-item"></div>
                    <div class="${t.dotItem} loading-item"></div>
                    <div class="${t.dotItem} loading-item"></div>
                </div>
            </div>
        `;this.loadingControl.innerHTML=e,this.container.appendChild(this.loadingControl)}createSettingPanel(){var c,h,u,g,p;this.settingPanelControl=document.createElement("div"),this.settingPanelControl.className=t.settingPanelWrap;const e=`
           <div class="${t.settingPanelInner}">
                <div class="${t.settingPanelHeader}">
                    <span class="${t.settingPanelTitle}">设置</span>
                     <div class="${t.settingPanelIcon} setting-panel-close">
                        ${re}
                    </div>
                </div>
                <div class="${t.settingPanelContent}">
                    <div class="${t.settingSection}">
                        <div class="${t.settingSectionHeader}">
                            ${ae}
                            <span class="${t.settingSectionTitle}">解码设置</span>
                        </div>
                        <div class="${t.settingSectionContent}">
                           <label class="${t.switchContainer}">
                                <span class="${t.label}">硬件加速</span>
                                <span class="${t.switch}">
                                    <input
                                        type="checkbox"
                                        class="${t.input}" id="enable-hardware" />
                                    <span class="${t.slider}"></span>
                                </span>
                           </label>
                           <label class="${t.switchContainer}">
                                <span class="${t.label}">视频硬解码</span>
                                <span class="${t.switch}">
                                    <input
                                        type="checkbox"
                                        class="${t.input}" id="video-webcodec" />
                                    <span class="${t.slider}"></span>
                                </span>
                           </label>
                           <label class="${t.switchContainer}">
                                <span class="${t.label}">音频硬解码</span>
                                <span class="${t.switch}">
                                    <input
                                        type="checkbox"
                                        class="${t.input}" id="audio-webcodec" />
                                    <span class="${t.slider}"></span>
                                </span>
                            </label>
                           <label class="${t.switchContainer}">
                                <span class="${t.label}">音频MSE解码</span>
                                <span class="${t.switch}">
                                    <input
                                        type="checkbox"
                                        class="${t.input}" id="audio-mse" />
                                    <span class="${t.slider}"></span>
                                </span>
                            </label>
                           <label class="${t.switchContainer}">
                                <span class="${t.label}">WebGPU</span>
                                <span class="${t.switch}">
                                    <input
                                        type="checkbox"
                                        class="${t.input}" id="enable-webgpu" />
                                    <span class="${t.slider}"></span>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
           </div>
        `;this.settingPanelControl.innerHTML=e,this.container.appendChild(this.settingPanelControl);const i=this.getSetting("KIT_PLAYER_HARDWARE"),s=this.getSetting("KIT_PLAYER_AUDIO_WEBCODEC"),l=this.getSetting("KIT_PLAYER_VIDEO_WEBCODEC"),a=this.getSetting("KIT_PLAYER_AUDIO_MSE"),d=this.getSetting("KIT_PLAYER_WEBGPU");this.settingPanelControl.querySelector("#enable-hardware").checked=i,this.settingPanelControl.querySelector("#video-webcodec").checked=l,this.settingPanelControl.querySelector("#audio-webcodec").checked=s,this.settingPanelControl.querySelector("#audio-mse").checked=a,this.settingPanelControl.querySelector("#enable-webgpu").checked=d,(c=this.settingPanelControl.querySelector("#enable-hardware"))==null||c.addEventListener("change",o=>{localStorage.setItem("KIT_PLAYER_HARDWARE",o.target.checked.toString())}),(h=this.settingPanelControl.querySelector("#video-webcodec"))==null||h.addEventListener("change",o=>{localStorage.setItem("KIT_PLAYER_VIDEO_WEBCODEC",o.target.checked.toString())}),(u=this.settingPanelControl.querySelector("#audio-webcodec"))==null||u.addEventListener("change",o=>{localStorage.setItem("KIT_PLAYER_AUDIO_WEBCODEC",o.target.checked.toString())}),(g=this.settingPanelControl.querySelector("#audio-mse"))==null||g.addEventListener("change",o=>{localStorage.setItem("KIT_PLAYER_AUDIO_MSE",o.target.checked.toString())}),(p=this.settingPanelControl.querySelector("#enable-webgpu"))==null||p.addEventListener("change",o=>{localStorage.setItem("KIT_PLAYER_WEBGPU",o.target.checked.toString())})}attachEventListeners(){var e;this.god.on("time",i=>{this.isSeeking||(this.currentTime=Number(i))}),this.god.on("ended",()=>{this.currentTime=this.duration,this.isEnded=!0,this.pause()}),this.god.on("paused",()=>{this.isPlaying=!1}),this.container.addEventListener("pointerenter",()=>{this.controllerVisible||(this.controllerVisible=!0,setTimeout(()=>{this.controllerVisible=!1},5*1e3))}),this.playControl.addEventListener("click",async()=>{this.isPlaying?await this.pause():await this.play()}),this.progressControl.addEventListener("click",i=>{const s=this.progressControl.getBoundingClientRect(),l=i.offsetX/s.width;this.seek(l*this.duration)}),this.volumeControl.addEventListener("input",()=>{const i=Number(this.volumeControl.value);this.volume=i}),this.muteControl.addEventListener("click",()=>{this.muted=!this.muted}),this.settingControl.addEventListener("click",()=>{this.settingPanelVisible=!this.settingPanelVisible}),(e=this.settingPanelControl.querySelector(".setting-panel-close"))==null||e.addEventListener("click",()=>{this.settingPanelVisible=!1}),this.fullscreenControl.addEventListener("click",()=>{this.switchFullscreen()}),document.addEventListener("fullscreenchange",()=>{this.updateFullscreenControlIcon(!!document.fullscreenElement)})}loadPlayer(){this.isLive=this.options.isLive??!1,this.god=new C(this.options),this.attachEventListeners()}loadSource(e){e!==this.url&&(this.url=e,this.isLoading=!0,this.god.stop().then(()=>{this.god.load(this.url).then(async()=>{this.duration=Number(this.god.getDuration()),this.volume=Number(this.god.getVolume()),this.volumeControl.value=String(this.volume),await this.play(),this.isEnded=!1,this.isLoading=!1})}))}updatePlayControlIcon(e){this.playControl.innerHTML=e?ne:m}updateMuteControlIcon(e,i){i||e===0?this.muteControl.innerHTML=oe:e<.5?this.muteControl.innerHTML=se:this.muteControl.innerHTML=_}updateFullscreenControlIcon(e){this.fullscreenControl.innerHTML=e?ie:v}async play(){if(this.isEnded&&this.url){this.loadSource(this.url);return}await this.god.play({video:!0,audio:!0}),this.isPlaying=!0}async pause(){await this.god.pause(),this.isPlaying=!1}async seek(e){this.isSeeking=!0,this.isLoading=!0,await this.god.seek(BigInt(Math.floor(e))),this.isSeeking=!1,this.isLoading=!1}async switchFullscreen(){document.fullscreenElement?(await document.exitFullscreen(),this.god.resize(this.container.clientWidth,this.container.clientHeight),this.updateFullscreenControlIcon(!1)):(await this.container.requestFullscreen(),this.god.resize(this.container.clientWidth,this.container.clientHeight),this.updateFullscreenControlIcon(!0))}destroy(){this.god&&(this.god.destroy(),this.god=null),this.controller.remove()}}export{ue as Player};

                    